<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:WpfAutomationDemo.Controls">

    <Style TargetType="{x:Type controls:RatingControl}">
        <Setter Property="Focusable" Value="True" />
        <Setter Property="IsTabStop" Value="True" />
        <Setter Property="Height" Value="32" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="FocusVisualStyle">
            <Setter.Value>
                <Style>
                    <Setter Property="Control.Template">
                        <Setter.Value>
                            <ControlTemplate>
                                <Rectangle
                                    Margin="-2"
                                    RadiusX="4"
                                    RadiusY="4"
                                    Stroke="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"
                                    StrokeDashArray="1 2"
                                    StrokeThickness="2" />
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:RatingControl}">
                    <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}">
                        <StackPanel
                            x:Name="StarPanel"
                            HorizontalAlignment="Left"
                            Orientation="Horizontal">
                            <!--  Star 1  -->
                            <TextBlock
                                x:Name="Star1"
                                Margin="2"
                                FontFamily="Segoe UI Symbol"
                                FontSize="24"
                                Foreground="Gold"
                                Text="☆" />
                            <!--  Star 2  -->
                            <TextBlock
                                x:Name="Star2"
                                Margin="2"
                                FontFamily="Segoe UI Symbol"
                                FontSize="24"
                                Foreground="Gold"
                                Text="☆" />
                            <!--  Star 3  -->
                            <TextBlock
                                x:Name="Star3"
                                Margin="2"
                                FontFamily="Segoe UI Symbol"
                                FontSize="24"
                                Foreground="Gold"
                                Text="☆" />
                            <!--  Star 4  -->
                            <TextBlock
                                x:Name="Star4"
                                Margin="2"
                                FontFamily="Segoe UI Symbol"
                                FontSize="24"
                                Foreground="Gold"
                                Text="☆" />
                            <!--  Star 5  -->
                            <TextBlock
                                x:Name="Star5"
                                Margin="2"
                                FontFamily="Segoe UI Symbol"
                                FontSize="24"
                                Foreground="Gold"
                                Text="☆" />
                        </StackPanel>
                    </Border>
                    <ControlTemplate.Triggers>
                        <!--  Value >= 1  -->
                        <DataTrigger Binding="{Binding Value, RelativeSource={RelativeSource Self}, Converter={x:Static controls:RatingControl.GreaterOrEqualConverter}, ConverterParameter=1}" Value="True">
                            <Setter TargetName="Star1" Property="Text" Value="★" />
                        </DataTrigger>
                        <!--  Value >= 2  -->
                        <DataTrigger Binding="{Binding Value, RelativeSource={RelativeSource Self}, Converter={x:Static controls:RatingControl.GreaterOrEqualConverter}, ConverterParameter=2}" Value="True">
                            <Setter TargetName="Star2" Property="Text" Value="★" />
                        </DataTrigger>
                        <!--  Value >= 3  -->
                        <DataTrigger Binding="{Binding Value, RelativeSource={RelativeSource Self}, Converter={x:Static controls:RatingControl.GreaterOrEqualConverter}, ConverterParameter=3}" Value="True">
                            <Setter TargetName="Star3" Property="Text" Value="★" />
                        </DataTrigger>
                        <!--  Value >= 4  -->
                        <DataTrigger Binding="{Binding Value, RelativeSource={RelativeSource Self}, Converter={x:Static controls:RatingControl.GreaterOrEqualConverter}, ConverterParameter=4}" Value="True">
                            <Setter TargetName="Star4" Property="Text" Value="★" />
                        </DataTrigger>
                        <!--  Value >= 5  -->
                        <DataTrigger Binding="{Binding Value, RelativeSource={RelativeSource Self}, Converter={x:Static controls:RatingControl.GreaterOrEqualConverter}, ConverterParameter=5}" Value="True">
                            <Setter TargetName="Star5" Property="Text" Value="★" />
                        </DataTrigger>
                        <!--  Disabled State  -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
